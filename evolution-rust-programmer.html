<!DOCTYPE html>
<html>

<head>
    <!-- Meta -->
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="generator" content="Jekyll">

    <title>The Evolution of a Rust Programmer</title>
  <meta name="description" content="Antoyo's Personal Blog">

    <!-- CSS & fonts -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/asciidoc-pygments.css">

    <!-- RSS -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" />

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/png" href="img/favicon.png">

</head>


<body>
    <div id="wrap">

        <!-- Navigation -->
        <nav id="nav">
    <div id="nav-list">
        <a href="/">Home</a>

        <!-- Nav pages -->
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      

    <!-- Nav links -->
      <a href="https://www.patreon.com/antoyo"><img class="patreon" src="https://c5.patreon.com/external/logo/become_a_patron_button.png"/></a>
<a class="btn sponsor" aria-label="Sponsor @antoyo" href="https://github.com/sponsors/antoyo">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="m8 14.25.345.666a.75.75 0 0 1-.69 0l-.008-.004-.018-.01a7.152 7.152 0 0 1-.31-.17 22.055 22.055 0 0 1-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.066 22.066 0 0 1-3.744 2.584l-.018.01-.006.003h-.002ZM4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.58 20.58 0 0 0 8 13.393a20.58 20.58 0 0 0 3.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.749.749 0 0 1-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5Z"></path>
  </svg>
  <span>Sponsor me</span>
</a>
<a class="btn" href="https://github.com/antoyo">Github</a>


    </div>

  <!-- Nav footer -->
    
      <footer>

    <span>version 1.0.0</span>

</footer>

    

</nav>


    <!-- Icon menu -->
      <a id="nav-menu">
        <div id="menu"></div>
      </a>

      <!-- Header -->
      
        <header id="header" class="parent justify-spaceBetween">
  <div class="inner w100 relative">
    <span class="f-left">
      <a href="/">
        <h1>
            Antoyo's Blog
        </h1>
      </a>
    </span>
    <span id="nav-links" class="absolute right bottom">
      <!-- Nav pages -->
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        

      <!-- Nav links -->
        <a href="https://www.patreon.com/antoyo"><img class="patreon" src="https://c5.patreon.com/external/logo/become_a_patron_button.png"/></a>
<a class="btn sponsor" aria-label="Sponsor @antoyo" href="https://github.com/sponsors/antoyo">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="m8 14.25.345.666a.75.75 0 0 1-.69 0l-.008-.004-.018-.01a7.152 7.152 0 0 1-.31-.17 22.055 22.055 0 0 1-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.066 22.066 0 0 1-3.744 2.584l-.018.01-.006.003h-.002ZM4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.58 20.58 0 0 0 8 13.393a20.58 20.58 0 0 0 3.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.749.749 0 0 1-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5Z"></path>
  </svg>
  <span>Sponsor me</span>
</a>
<a class="btn" href="https://github.com/antoyo">Github</a>


    </span>
  </div>
</header>




      

    <!-- Main content -->
      <div id="container">

        <main>

            <article id="post-page">
    <h2>The Evolution of a Rust Programmer</h2>
    <time datetime="2019-01-15T00:00:00+00:00" class="by-line">15 Jan 2019</time>
    <div class="content">

        <div class="sect1">
<h2 id="freshman_rust_programmer">Freshman Rust Programmer</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">String</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">().</span><span class="tok-n">read_line</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">).</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">+=</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sophomore_rust_programmer">Sophomore Rust Programmer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="studied_c_as_a_freshman">(studied C as a freshman)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">libc</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">libc</span>::<span class="tok-p">{</span><span class="tok-n">c_char</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">printf</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">scanf</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">EOF</span><span class="tok-p">};</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">unsafe</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">while</span><span class="tok-p">(</span><span class="tok-n">scanf</span><span class="tok-p">(</span><span class="tok-s">b&quot;%d</span><span class="tok-se">\0</span><span class="tok-s">&quot;</span><span class="tok-w"> </span><span class="tok-k">as</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-k">const</span><span class="tok-w"> </span><span class="tok-kt">u8</span><span class="tok-w"> </span><span class="tok-k">as</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-k">const</span><span class="tok-w"> </span><span class="tok-n">c_char</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">!=</span><span class="tok-w"> </span><span class="tok-n">EOF</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">+=</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">printf</span><span class="tok-p">(</span><span class="tok-s">b&quot;Sum: %d</span><span class="tok-se">\n\0</span><span class="tok-s">&quot;</span><span class="tok-w"> </span><span class="tok-k">as</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-k">const</span><span class="tok-w"> </span><span class="tok-kt">u8</span><span class="tok-w"> </span><span class="tok-k">as</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-k">const</span><span class="tok-w"> </span><span class="tok-n">c_char</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="junior_rust_programmer">Junior Rust Programmer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="read_that_unwrap_foils_rusts_error_management_philosophy_and_joined_the_it_should_be_removed_in_favor_of_expect_movement">(read that <code>unwrap()</code> foils rust&#8217;s error management philosophy and joined the "It should be removed in favor of <code>expect()</code> "-movement)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">String</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">().</span><span class="tok-n">read_line</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">).</span><span class="tok-n">expect</span><span class="tok-p">(</span><span class="tok-s">&quot;read line&quot;</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">().</span><span class="tok-n">expect</span><span class="tok-p">(</span><span class="tok-s">&quot;parse&quot;</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">+=</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="senior_rust_programmer">Senior Rust Programmer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="learned_proper_error_management">(learned proper error management)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">error</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">fmt</span>::<span class="tok-p">{</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Display</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Formatter</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">io</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">num</span>::<span class="tok-n">ParseIntError</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">result</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-cp">#[derive(Debug)]</span><span class="tok-w"></span>
<span class="tok-k">enum</span> <span class="tok-nc">Error</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Io</span><span class="tok-p">(</span><span class="tok-n">io</span>::<span class="tok-n">Error</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Parse</span><span class="tok-p">(</span><span class="tok-n">ParseIntError</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-n">Display</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">fmt</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">formatter</span>: <span class="tok-kp">&amp;</span><span class="tok-nc">mut</span><span class="tok-w"> </span><span class="tok-n">Formatter</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">fmt</span>::<span class="tok-nb">Result</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">match</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-bp">self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">Error</span>::<span class="tok-n">Io</span><span class="tok-p">(</span><span class="tok-k">ref</span><span class="tok-w"> </span><span class="tok-n">error</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">error</span><span class="tok-p">.</span><span class="tok-n">fmt</span><span class="tok-p">(</span><span class="tok-n">formatter</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">Error</span>::<span class="tok-n">Parse</span><span class="tok-p">(</span><span class="tok-k">ref</span><span class="tok-w"> </span><span class="tok-n">error</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">error</span><span class="tok-p">.</span><span class="tok-n">fmt</span><span class="tok-p">(</span><span class="tok-n">formatter</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-n">error</span>::<span class="tok-n">Error</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-nb">From</span><span class="tok-o">&lt;</span><span class="tok-n">io</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">from</span><span class="tok-p">(</span><span class="tok-n">error</span>: <span class="tok-nc">io</span>::<span class="tok-n">Error</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">Self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">Error</span>::<span class="tok-n">Io</span><span class="tok-p">(</span><span class="tok-n">error</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-nb">From</span><span class="tok-o">&lt;</span><span class="tok-n">ParseIntError</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">from</span><span class="tok-p">(</span><span class="tok-n">error</span>: <span class="tok-nc">ParseIntError</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">Self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">Error</span>::<span class="tok-n">Parse</span><span class="tok-p">(</span><span class="tok-n">error</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">type</span> <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">result</span>::<span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-p">()</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">String</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">().</span><span class="tok-n">read_line</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">)</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">()</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">+=</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-nb">Ok</span><span class="tok-p">(())</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="functional_rust_programmer">Functional Rust Programmer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="studied_haskell_as_a_freshman_and_loathes_mutability">(studied Haskell as a freshman and loathes mutability)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">BufRead</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">stdin</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">stdin</span><span class="tok-p">.</span><span class="tok-n">lock</span><span class="tok-p">().</span><span class="tok-n">lines</span><span class="tok-p">().</span><span class="tok-n">next</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">sum</span>: <span class="tok-kt">i64</span> <span class="tok-o">=</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">()</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">.</span><span class="tok-n">map</span><span class="tok-p">(</span><span class="tok-o">|</span><span class="tok-n">word</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">())</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">.</span><span class="tok-n">sum</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="object_oriented_programmer">Object-oriented Programmer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="studied_java_as_a_freshman">(studied Java as a freshman)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">ops</span>::<span class="tok-n">Deref</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">struct</span> <span class="tok-nc">Nums</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">vector</span>: <span class="tok-nb">Vec</span><span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-n">Nums</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">new</span><span class="tok-p">()</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">Self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">Nums</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">vector</span>: <span class="tok-nb">Vec</span>::<span class="tok-n">new</span><span class="tok-p">(),</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">add</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">num</span>: <span class="tok-kt">i64</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">vector</span><span class="tok-p">.</span><span class="tok-n">push</span><span class="tok-p">(</span><span class="tok-n">num</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">get_sum</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-kt">i64</span> <span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">(</span><span class="tok-o">*</span><span class="tok-bp">self</span><span class="tok-p">).</span><span class="tok-n">iter</span><span class="tok-p">().</span><span class="tok-n">sum</span><span class="tok-p">()</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-n">Deref</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">Nums</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">type</span> <span class="tok-nc">Target</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">Vec</span><span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deref</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-kp">&amp;</span><span class="tok-nc">Self</span>::<span class="tok-n">Target</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">vector</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">String</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">().</span><span class="tok-n">read_line</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">).</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">nums</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Nums</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">nums</span><span class="tok-p">.</span><span class="tok-n">add</span><span class="tok-p">(</span><span class="tok-n">num</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">nums</span><span class="tok-p">.</span><span class="tok-n">get_sum</span><span class="tok-p">());</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="macro_man">Macro-man</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="misses_lisp_macros">(misses Lisp macros)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">fmt</span>::<span class="tok-p">{</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Display</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Formatter</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">io</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">num</span>::<span class="tok-n">ParseIntError</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">result</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-fm">macro_rules!</span><span class="tok-w"> </span><span class="tok-n">from</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">(</span><span class="tok-cp">$from</span>:<span class="tok-nc">ty</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-cp">$typ</span>:<span class="tok-nc">ty</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-cp">$result</span>:<span class="tok-nc">expr</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-nb">From</span><span class="tok-o">&lt;</span><span class="tok-cp">$from</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-cp">$typ</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-k">fn</span> <span class="tok-nf">from</span><span class="tok-p">(</span><span class="tok-n">error</span>: <span class="tok-cp">$from</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">Self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-cp">$result</span><span class="tok-p">(</span><span class="tok-n">error</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-fm">macro_rules!</span><span class="tok-w"> </span><span class="tok-n">display</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">(</span><span class="tok-cp">$typ</span>:<span class="tok-nc">ty</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-p">[</span><span class="tok-cp">$($patterns</span>:<span class="tok-nc">path</span><span class="tok-p">),</span><span class="tok-o">*</span><span class="tok-p">])</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-n">Display</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-cp">$typ</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-k">fn</span> <span class="tok-nf">fmt</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">formatter</span>: <span class="tok-kp">&amp;</span><span class="tok-nc">mut</span><span class="tok-w"> </span><span class="tok-n">Formatter</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">fmt</span>::<span class="tok-nb">Result</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-k">match</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-bp">self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-cp">$($patterns</span><span class="tok-p">(</span><span class="tok-k">ref</span><span class="tok-w"> </span><span class="tok-n">error</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">error</span><span class="tok-p">.</span><span class="tok-n">fmt</span><span class="tok-p">(</span><span class="tok-n">formatter</span><span class="tok-p">)),</span><span class="tok-o">*</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-fm">macro_rules!</span><span class="tok-w"> </span><span class="tok-n">error</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">(</span><span class="tok-cp">$typ</span>:<span class="tok-nc">ty</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">impl</span><span class="tok-w"> </span>::<span class="tok-n">std</span>::<span class="tok-n">error</span>::<span class="tok-n">Error</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-cp">$typ</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-cp">#[derive(Debug)]</span><span class="tok-w"></span>
<span class="tok-k">enum</span> <span class="tok-nc">Error</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Io</span><span class="tok-p">(</span><span class="tok-n">io</span>::<span class="tok-n">Error</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Parse</span><span class="tok-p">(</span><span class="tok-n">ParseIntError</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-n">display</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-n">Error</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-p">[</span><span class="tok-n">Error</span>::<span class="tok-n">Io</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Error</span>::<span class="tok-n">Parse</span><span class="tok-p">]);</span><span class="tok-w"></span>
<span class="tok-n">error</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-n">Error</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-n">from</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-n">io</span>::<span class="tok-n">Error</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Error</span>::<span class="tok-n">Io</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-n">from</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-n">ParseIntError</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Error</span>::<span class="tok-n">Parse</span><span class="tok-p">);</span><span class="tok-w"></span>

<span class="tok-k">type</span> <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">result</span>::<span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-p">()</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">String</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">().</span><span class="tok-n">read_line</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">)</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">()</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">+=</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-nb">Ok</span><span class="tok-p">(())</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="macroceptor">Macroceptor</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="watched_inception">(watched Inception)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">fmt</span>::<span class="tok-p">{</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Display</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Formatter</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">io</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">num</span>::<span class="tok-n">ParseIntError</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">result</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-fm">macro_rules!</span><span class="tok-w"> </span><span class="tok-n">display</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">(</span><span class="tok-cp">$typ</span>:<span class="tok-nc">ty</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-p">[</span><span class="tok-cp">$($patterns</span>:<span class="tok-nc">path</span><span class="tok-p">),</span><span class="tok-o">*</span><span class="tok-p">])</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-n">Display</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-cp">$typ</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-k">fn</span> <span class="tok-nf">fmt</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">formatter</span>: <span class="tok-kp">&amp;</span><span class="tok-nc">mut</span><span class="tok-w"> </span><span class="tok-n">Formatter</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">fmt</span>::<span class="tok-nb">Result</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-k">match</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-bp">self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-cp">$($patterns</span><span class="tok-p">(</span><span class="tok-k">ref</span><span class="tok-w"> </span><span class="tok-n">error</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">error</span><span class="tok-p">.</span><span class="tok-n">fmt</span><span class="tok-p">(</span><span class="tok-n">formatter</span><span class="tok-p">)),</span><span class="tok-o">*</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-fm">macro_rules!</span><span class="tok-w"> </span><span class="tok-n">error</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">(</span><span class="tok-cp">$typ</span>:<span class="tok-nc">ty</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">impl</span><span class="tok-w"> </span>::<span class="tok-n">std</span>::<span class="tok-n">error</span>::<span class="tok-n">Error</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-cp">$typ</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">        </span><span class="tok-fm">macro_rules!</span><span class="tok-w"> </span><span class="tok-n">from</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">(</span><span class="tok-cp">$from</span>:<span class="tok-nc">ty</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-cp">$result</span>:<span class="tok-nc">expr</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-nb">From</span><span class="tok-o">&lt;</span><span class="tok-cp">$from</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-cp">$typ</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-k">fn</span> <span class="tok-nf">from</span><span class="tok-p">(</span><span class="tok-n">error</span>: <span class="tok-cp">$from</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">Self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                        </span><span class="tok-cp">$result</span><span class="tok-p">(</span><span class="tok-n">error</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-cp">#[derive(Debug)]</span><span class="tok-w"></span>
<span class="tok-k">enum</span> <span class="tok-nc">Error</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Io</span><span class="tok-p">(</span><span class="tok-n">io</span>::<span class="tok-n">Error</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Parse</span><span class="tok-p">(</span><span class="tok-n">ParseIntError</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-n">display</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-n">Error</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-p">[</span><span class="tok-n">Error</span>::<span class="tok-n">Io</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Error</span>::<span class="tok-n">Parse</span><span class="tok-p">]);</span><span class="tok-w"></span>
<span class="tok-n">error</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-n">Error</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-n">from</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-n">io</span>::<span class="tok-n">Error</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Error</span>::<span class="tok-n">Io</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-n">from</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-n">ParseIntError</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Error</span>::<span class="tok-n">Parse</span><span class="tok-p">);</span><span class="tok-w"></span>

<span class="tok-k">type</span> <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">result</span>::<span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-p">()</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">String</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">().</span><span class="tok-n">read_line</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">)</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">()</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">+=</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-nb">Ok</span><span class="tok-p">(())</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="procedural_macro_god">Procedural Macro God</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="needs_more_power">(needs more power)</h3>
<div class="listingblock">
<div class="title">main.rs</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-cp">#![feature(proc_macro_hygiene)]</span><span class="tok-w"></span>

<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">lib</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">lib</span>::<span class="tok-n">scanfold</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">scanfold</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-s">&quot;%ld+&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-o">|</span><span class="tok-n">num</span>: <span class="tok-kt">i64</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">acc</span>: <span class="tok-kt">i64</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">+</span><span class="tok-w"> </span><span class="tok-n">acc</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">lib.rs</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">proc_macro</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">proc_macro2</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">quote</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">syn</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">proc_macro</span>::<span class="tok-n">TokenStream</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">proc_macro2</span>::<span class="tok-n">Span</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">quote</span>::<span class="tok-p">{</span><span class="tok-n">quote</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">quote_spanned</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">syn</span>::<span class="tok-p">{</span><span class="tok-n">Error</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Expr</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ExprClosure</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">LitStr</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Token</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">parse</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">syn</span>::<span class="tok-n">parse</span>::<span class="tok-p">{</span><span class="tok-n">Parse</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ParseStream</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Result</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">syn</span>::<span class="tok-n">spanned</span>::<span class="tok-n">Spanned</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">struct</span> <span class="tok-nc">Parameters</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">format</span>: <span class="tok-nc">LitStr</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">closure</span>: <span class="tok-nc">ExprClosure</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-n">Parse</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">Parameters</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">parse</span><span class="tok-p">(</span><span class="tok-n">input</span>: <span class="tok-nc">ParseStream</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-bp">Self</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">format</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">input</span><span class="tok-p">.</span><span class="tok-n">parse</span><span class="tok-p">()</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">_comma</span>: <span class="tok-nc">Token</span><span class="tok-o">!</span><span class="tok-p">[,]</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">input</span><span class="tok-p">.</span><span class="tok-n">parse</span><span class="tok-p">()</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">closure</span>: <span class="tok-nc">Expr</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">input</span><span class="tok-p">.</span><span class="tok-n">parse</span><span class="tok-p">()</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">match</span><span class="tok-w"> </span><span class="tok-n">closure</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">Expr</span>::<span class="tok-n">Closure</span><span class="tok-p">(</span><span class="tok-n">closure</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-n">Parameters</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-n">format</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-n">closure</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-p">}),</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">_</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-nb">Err</span><span class="tok-p">(</span><span class="tok-n">Error</span>::<span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">closure</span><span class="tok-p">.</span><span class="tok-n">span</span><span class="tok-p">(),</span><span class="tok-w"> </span><span class="tok-s">&quot;Argument must be a closure&quot;</span><span class="tok-p">))</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-cp">#[derive(PartialEq)]</span><span class="tok-w"></span>
<span class="tok-k">enum</span> <span class="tok-nc">Param</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Unknown</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Int</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Long</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">LongInt</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Repeat</span><span class="tok-p">(</span><span class="tok-nb">Box</span><span class="tok-o">&lt;</span><span class="tok-n">Param</span><span class="tok-o">&gt;</span><span class="tok-p">),</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">to_code</span><span class="tok-p">(</span><span class="tok-n">span</span>: <span class="tok-nc">Span</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">param</span>: <span class="tok-kp">&amp;</span><span class="tok-nc">Param</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">recursive</span>: <span class="tok-kt">bool</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">proc_macro2</span>::<span class="tok-n">TokenStream</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">start</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-n">recursive</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">quote</span><span class="tok-o">!</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">else</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">quote</span><span class="tok-o">!</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">().</span><span class="tok-n">next</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">match</span><span class="tok-w"> </span><span class="tok-n">param</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">Param</span>::<span class="tok-n">Unknown</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">quote_spanned</span><span class="tok-o">!</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">span</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-fm">compile_error!</span><span class="tok-p">(</span><span class="tok-s">&quot;invalid format string&quot;</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">},</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">Param</span>::<span class="tok-n">Int</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">quote</span><span class="tok-o">!</span><span class="tok-w"> </span><span class="tok-p">{{</span><span class="tok-w"></span>
<span class="tok-w">            </span>#<span class="tok-n">start</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i32</span><span class="tok-o">&gt;</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">closure</span><span class="tok-p">(</span><span class="tok-n">num</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">acc</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}},</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">Param</span>::<span class="tok-n">Long</span><span class="tok-w"> </span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">Param</span>::<span class="tok-n">LongInt</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">quote</span><span class="tok-o">!</span><span class="tok-w"> </span><span class="tok-p">{{</span><span class="tok-w"></span>
<span class="tok-w">            </span>#<span class="tok-n">start</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">closure</span><span class="tok-p">(</span><span class="tok-n">num</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">acc</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}},</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">Param</span>::<span class="tok-n">Repeat</span><span class="tok-p">(</span><span class="tok-k">ref</span><span class="tok-w"> </span><span class="tok-n">inner_param</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">inner_code</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">to_code</span><span class="tok-p">(</span><span class="tok-n">span</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">inner_param</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-kc">true</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">quote</span><span class="tok-o">!</span><span class="tok-w"> </span><span class="tok-p">{{</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-n">acc</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span>#<span class="tok-n">inner_code</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-n">acc</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">}}</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">},</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-cp">#[proc_macro]</span><span class="tok-w"></span>
<span class="tok-k">pub</span><span class="tok-w"> </span><span class="tok-k">fn</span> <span class="tok-nf">scanfold</span><span class="tok-p">(</span><span class="tok-n">input</span>: <span class="tok-nc">TokenStream</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">TokenStream</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">parameters</span>: <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">Parameters</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">parse</span><span class="tok-p">(</span><span class="tok-n">input</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">result</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">match</span><span class="tok-w"> </span><span class="tok-n">parameters</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-n">params</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">format</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">params</span><span class="tok-p">.</span><span class="tok-n">format</span><span class="tok-p">.</span><span class="tok-n">value</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">is_param</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-kc">false</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">param</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Param</span>::<span class="tok-n">Unknown</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-kt">char</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">format</span><span class="tok-p">.</span><span class="tok-n">chars</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-n">is_param</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                        </span><span class="tok-k">match</span><span class="tok-w"> </span><span class="tok-kt">char</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                            </span><span class="tok-sc">&#39;d&#39;</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"></span>
<span class="tok-w">                                </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-n">param</span><span class="tok-w"> </span><span class="tok-o">==</span><span class="tok-w"> </span><span class="tok-n">Param</span>::<span class="tok-n">Long</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                                    </span><span class="tok-n">param</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Param</span>::<span class="tok-n">LongInt</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">                                </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">                                </span><span class="tok-k">else</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                                    </span><span class="tok-n">param</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Param</span>::<span class="tok-n">Int</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">                                </span><span class="tok-p">},</span><span class="tok-w"></span>
<span class="tok-w">                            </span><span class="tok-sc">&#39;l&#39;</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">param</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Param</span>::<span class="tok-n">Long</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">                            </span><span class="tok-sc">&#39;+&#39;</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-n">param</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Param</span>::<span class="tok-n">Repeat</span><span class="tok-p">(</span><span class="tok-nb">Box</span>::<span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">param</span><span class="tok-p">)),</span><span class="tok-w"></span>
<span class="tok-w">                            </span><span class="tok-n">_</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-p">(),</span><span class="tok-w"></span>
<span class="tok-w">                        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-k">else</span><span class="tok-w"> </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-kt">char</span><span class="tok-w"> </span><span class="tok-o">==</span><span class="tok-w"> </span><span class="tok-sc">&#39;%&#39;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                        </span><span class="tok-n">is_param</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-kc">true</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">code</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">to_code</span><span class="tok-p">(</span><span class="tok-n">params</span><span class="tok-p">.</span><span class="tok-n">format</span><span class="tok-p">.</span><span class="tok-n">span</span><span class="tok-p">(),</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-n">param</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-kc">false</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">closure</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">params</span><span class="tok-p">.</span><span class="tok-n">closure</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-n">quote</span><span class="tok-o">!</span><span class="tok-w"> </span><span class="tok-p">{{</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">closure</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span>#<span class="tok-n">closure</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">String</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">acc</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">().</span><span class="tok-n">read_line</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">).</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">                    </span>#<span class="tok-n">code</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-p">}}</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">},</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-nb">Err</span><span class="tok-p">(</span><span class="tok-n">error</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">msg</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">error</span><span class="tok-p">.</span><span class="tok-n">to_string</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-n">quote_spanned</span><span class="tok-o">!</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-n">error</span><span class="tok-p">.</span><span class="tok-n">span</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-fm">compile_error!</span><span class="tok-p">(</span>#<span class="tok-n">msg</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">},</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">result</span><span class="tok-p">.</span><span class="tok-n">into</span><span class="tok-p">()</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="another_senior_rust_programmer">Another senior Rust programmer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="learned_to_reduce_boilerplate_with_macros">(learned to reduce boilerplate with macros)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">error_chain</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">io</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">num</span>::<span class="tok-n">ParseIntError</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">error_chain</span>::<span class="tok-o">*</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-n">error_chain</span><span class="tok-o">!</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">types</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">Error</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ErrorKind</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ResultExt</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Result</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-n">foreign_links</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">Io</span><span class="tok-p">(</span><span class="tok-n">io</span>::<span class="tok-n">Error</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">Parse</span><span class="tok-p">(</span><span class="tok-n">ParseIntError</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-p">()</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">String</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">().</span><span class="tok-n">read_line</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">)</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">()</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">+=</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-nb">Ok</span><span class="tok-p">(())</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="yet_another_senior_rust_programmer">Yet another senior Rust programmer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="switched_from_error_chain_to_stay_up_to_date">(switched from error-chain to stay up-to-date)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">failure</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">failure_derive</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">result</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">failure</span>::<span class="tok-n">bail</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">failure_derive</span>::<span class="tok-n">Fail</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-cp">#[derive(Debug, Fail)]</span><span class="tok-w"></span>
<span class="tok-k">enum</span> <span class="tok-nc">Error</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-cp">#[fail(display = </span><span class="tok-s">&quot;empty string&quot;</span><span class="tok-cp">)]</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Empty</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">type</span> <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">result</span>::<span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">failure</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-p">()</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">String</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">().</span><span class="tok-n">read_line</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">)</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">empty</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-kc">true</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">empty</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-kc">false</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">()</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">+=</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-n">empty</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">bail</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-n">Error</span>::<span class="tok-n">Empty</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-nb">Ok</span><span class="tok-p">(())</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hyper_functional_rust_programmer">Hyper-Functional Rust Programmer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="misses_haskell_so_much_that_he_needs_an_additional_library_for_more_functional_power">(misses Haskell so much that he needs an additional library for more functional power)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">itertools</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">BufRead</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">itertools</span>::<span class="tok-n">fold</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">stdin</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">stdin</span><span class="tok-p">.</span><span class="tok-n">lock</span><span class="tok-p">().</span><span class="tok-n">lines</span><span class="tok-p">().</span><span class="tok-n">next</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">iter</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">()</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">.</span><span class="tok-n">map</span><span class="tok-p">(</span><span class="tok-o">|</span><span class="tok-n">word</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">());</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">fold</span><span class="tok-p">(</span><span class="tok-n">iter</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-o">|</span><span class="tok-n">a</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">b</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">a</span><span class="tok-w"> </span><span class="tok-o">+</span><span class="tok-w"> </span><span class="tok-n">b</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="combinative_rust_programmer">Combinative Rust Programmer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="learned_that_nom_is_faster_than_parsec">(learned that nom is faster than parsec)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">nom</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-kt">str</span>::<span class="tok-n">FromStr</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">nom</span>::<span class="tok-p">{</span><span class="tok-n">call</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">digit</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">error_position</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">many1</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">map_res</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">named</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">recognize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sep</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">wrap_sep</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ws</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">nom</span>::<span class="tok-n">types</span>::<span class="tok-n">CompleteStr</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-n">named</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-n">numbers</span><span class="tok-o">&lt;</span><span class="tok-n">CompleteStr</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Vec</span><span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;&gt;</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">many1</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-n">ws</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">map_res</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-n">recognize</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-n">digit</span><span class="tok-p">),</span><span class="tok-w"> </span><span class="tok-o">|</span><span class="tok-n">complete_str</span>: <span class="tok-nc">CompleteStr</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-kt">i64</span>::<span class="tok-n">from_str</span><span class="tok-p">(</span><span class="tok-o">&amp;*</span><span class="tok-n">complete_str</span><span class="tok-p">))</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">))</span><span class="tok-w"></span>
<span class="tok-p">);</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">String</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">().</span><span class="tok-n">read_line</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">).</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">pop</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-p">(</span><span class="tok-n">_input</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">nums</span><span class="tok-p">)</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">numbers</span><span class="tok-p">(</span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">as_str</span><span class="tok-p">().</span><span class="tok-n">into</span><span class="tok-p">()).</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">sum</span>: <span class="tok-kt">i64</span> <span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">nums</span><span class="tok-p">.</span><span class="tok-n">iter</span><span class="tok-p">().</span><span class="tok-n">sum</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rust_fast_and_elegant_parser_writer">Rust Fast and Elegant Parser Writer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="learned_that_pest_is_faster_than_nom">(learned that pest is faster than nom)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">pest</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-cp">#[macro_use]</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">pest_derive</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">pest</span>::<span class="tok-n">Parser</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-cp">#[derive(Parser)]</span><span class="tok-w"></span>
<span class="tok-cp">#[grammar = </span><span class="tok-s">&quot;nums.pest&quot;</span><span class="tok-cp">]</span><span class="tok-w"></span>
<span class="tok-k">struct</span> <span class="tok-nc">Nums</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">String</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">().</span><span class="tok-n">read_line</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">).</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">pairs</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Nums</span>::<span class="tok-n">parse</span><span class="tok-p">(</span><span class="tok-n">Rule</span>::<span class="tok-n">nums</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-n">line</span><span class="tok-p">).</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">pair</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">pairs</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">pair</span><span class="tok-p">.</span><span class="tok-n">into_inner</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">as_str</span><span class="tok-p">().</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">+=</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="outdated_rust_programmer">Outdated Rust Programmer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="learned_rust_in_2009">(learned Rust in 2009)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">rustc_serialize</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">collections</span>::<span class="tok-n">VecDeque</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">num</span>::<span class="tok-n">ParseIntError</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">rustc_serialize</span>::<span class="tok-n">Decodable</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-cp">#[derive(RustcDecodable)]</span><span class="tok-w"></span>
<span class="tok-k">struct</span> <span class="tok-nc">Nums</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">nums</span>: <span class="tok-nb">Vec</span><span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">String</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">().</span><span class="tok-n">read_line</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">).</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">nums</span>: <span class="tok-nc">Nums</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">decode</span><span class="tok-p">(</span><span class="tok-n">line</span><span class="tok-p">).</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">sum</span>: <span class="tok-kt">i64</span> <span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">nums</span><span class="tok-p">.</span><span class="tok-n">nums</span><span class="tok-p">.</span><span class="tok-n">iter</span><span class="tok-p">().</span><span class="tok-n">sum</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">struct</span> <span class="tok-nc">Decoder</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">nums</span>: <span class="tok-nc">VecDeque</span><span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-n">Decoder</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">new</span><span class="tok-p">(</span><span class="tok-n">input</span>: <span class="tok-nb">String</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-bp">Self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ParseIntError</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">nums</span>: <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">VecDeque</span><span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ParseIntError</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">input</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">().</span><span class="tok-n">map</span><span class="tok-p">(</span><span class="tok-o">|</span><span class="tok-n">word</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">())</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">.</span><span class="tok-n">collect</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-bp">Self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">nums</span>: <span class="tok-nc">nums</span><span class="tok-o">?</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">})</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-n">rustc_serialize</span>::<span class="tok-n">Decoder</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">Decoder</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_i64</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">nums</span><span class="tok-p">.</span><span class="tok-n">pop_front</span><span class="tok-p">().</span><span class="tok-n">ok_or</span><span class="tok-p">(())</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_struct</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_struct_name</span>: <span class="tok-kp">&amp;</span><span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_len</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnOnce</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">f</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_struct_field</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f_name</span>: <span class="tok-kp">&amp;</span><span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f_idx</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnOnce</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">f</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_seq</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnOnce</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-kt">usize</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">len</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">nums</span><span class="tok-p">.</span><span class="tok-n">len</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">f</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">len</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_seq_elt</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_idx</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">where</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">F</span>: <span class="tok-nb">FnOnce</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">f</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">type</span> <span class="tok-nc">Error</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_nil</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-p">(),</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_usize</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_u64</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">u64</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_u32</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">u32</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_u16</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">u16</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_u8</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">u8</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_isize</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">isize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_i32</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">i32</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_i16</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">i16</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_i8</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">i8</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_bool</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">bool</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_f64</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">f64</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_f32</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">f32</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_char</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-kt">char</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_str</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-nb">String</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_enum</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_name</span>: <span class="tok-kp">&amp;</span><span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnOnce</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_enum_variant</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_names</span>: <span class="tok-kp">&amp;</span><span class="tok-p">[</span><span class="tok-o">&amp;</span><span class="tok-kt">str</span><span class="tok-p">],</span><span class="tok-w"> </span><span class="tok-n">_f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnMut</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-kt">usize</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_enum_variant_arg</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_a_idx</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnOnce</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_enum_struct_variant</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_names</span>: <span class="tok-kp">&amp;</span><span class="tok-p">[</span><span class="tok-o">&amp;</span><span class="tok-kt">str</span><span class="tok-p">],</span><span class="tok-w"> </span><span class="tok-n">_f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnMut</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-kt">usize</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_enum_struct_variant_field</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f_name</span>: <span class="tok-kp">&amp;</span><span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f_idx</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnOnce</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_tuple</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_len</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnOnce</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_tuple_arg</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_a_idx</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnOnce</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_tuple_struct</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_s_name</span>: <span class="tok-kp">&amp;</span><span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_len</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnOnce</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_tuple_struct_arg</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_a_idx</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnOnce</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_option</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnMut</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-kt">bool</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_map</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnOnce</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-kt">usize</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_map_elt_key</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_idx</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnOnce</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">read_map_elt_val</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">F</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_idx</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_f</span>: <span class="tok-nc">F</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">F</span>: <span class="tok-nb">FnOnce</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">Self</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">error</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_err</span>: <span class="tok-kp">&amp;</span><span class="tok-kt">str</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">Self</span>::<span class="tok-n">Error</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">decode</span><span class="tok-o">&lt;</span><span class="tok-n">T</span>: <span class="tok-nc">Decodable</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-n">string</span>: <span class="tok-nb">String</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Option</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">decoder</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Decoder</span>::<span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">string</span><span class="tok-p">).</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">Decodable</span>::<span class="tok-n">decode</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">decoder</span><span class="tok-p">).</span><span class="tok-n">ok</span><span class="tok-p">()</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="hyped_rust_programmer">Hyped Rust Programmer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="learned_that_serde_is_the_new_shiny_thing_for_serialization">(learned that serde is the new shiny thing for serialization)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">serde</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">serde_derive</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">collections</span>::<span class="tok-n">VecDeque</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">num</span>::<span class="tok-n">ParseIntError</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">serde</span>::<span class="tok-p">{</span><span class="tok-n">Deserialize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Deserializer</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">serde</span>::<span class="tok-n">de</span>::<span class="tok-p">{</span><span class="tok-n">DeserializeSeed</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">SeqAccess</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Visitor</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">serde</span>::<span class="tok-n">de</span>::<span class="tok-n">value</span>::<span class="tok-n">Error</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">pub</span><span class="tok-w"> </span><span class="tok-k">fn</span> <span class="tok-nf">from_str</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-n">s</span>: <span class="tok-kp">&amp;</span><span class="tok-kt">str</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"></span>
<span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">a</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-n">T</span>: <span class="tok-nc">Deserialize</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">a</span><span class="tok-o">&gt;</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">deserializer</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Decoder</span>::<span class="tok-n">from_str</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">.</span><span class="tok-n">to_string</span><span class="tok-p">()).</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">t</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">T</span>::<span class="tok-n">deserialize</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">deserializer</span><span class="tok-p">)</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-n">deserializer</span><span class="tok-p">.</span><span class="tok-n">nums</span><span class="tok-p">.</span><span class="tok-n">is_empty</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-n">t</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">else</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">serde</span>::<span class="tok-n">de</span>::<span class="tok-n">Error</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-nb">Err</span><span class="tok-p">(</span><span class="tok-n">Error</span>::<span class="tok-n">custom</span><span class="tok-p">(</span><span class="tok-s">&quot;empty input&quot;</span><span class="tok-p">))</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">String</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">().</span><span class="tok-n">read_line</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">).</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">nums</span>: <span class="tok-nb">Vec</span><span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">from_str</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-n">line</span><span class="tok-p">).</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">sum</span>: <span class="tok-kt">i64</span> <span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">nums</span><span class="tok-p">.</span><span class="tok-n">iter</span><span class="tok-p">().</span><span class="tok-n">sum</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">struct</span> <span class="tok-nc">Decoder</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">nums</span>: <span class="tok-nc">VecDeque</span><span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-n">Decoder</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">from_str</span><span class="tok-p">(</span><span class="tok-n">input</span>: <span class="tok-nb">String</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-bp">Self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ParseIntError</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">nums</span>: <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">VecDeque</span><span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ParseIntError</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">input</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">().</span><span class="tok-n">map</span><span class="tok-p">(</span><span class="tok-o">|</span><span class="tok-n">word</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">())</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">.</span><span class="tok-n">collect</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-bp">Self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">nums</span>: <span class="tok-nc">nums</span><span class="tok-o">?</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">})</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-o">&#39;</span><span class="tok-na">a</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-n">Deserializer</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-o">&amp;&#39;</span><span class="tok-na">a</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">Decoder</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">type</span> <span class="tok-nc">Error</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_i64</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">where</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">visitor</span><span class="tok-p">.</span><span class="tok-n">visit_i64</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">nums</span><span class="tok-p">.</span><span class="tok-n">pop_front</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">())</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_seq</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">where</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">visitor</span><span class="tok-p">.</span><span class="tok-n">visit_seq</span><span class="tok-p">(</span><span class="tok-n">Struct</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-n">de</span>: <span class="tok-nc">self</span><span class="tok-w"> </span><span class="tok-p">})</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_struct</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_name</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-nb">static</span> <span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_fields</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-nb">static</span> <span class="tok-p">[</span><span class="tok-o">&amp;&#39;</span><span class="tok-nb">static</span><span class="tok-w"> </span><span class="tok-kt">str</span><span class="tok-p">],</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_map</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">();</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_identifier</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">();</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_any</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_bool</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_i8</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_i16</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_i32</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_u8</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_u16</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_u32</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_u64</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_f32</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_f64</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_char</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_str</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_string</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_bytes</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_byte_buf</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_option</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_unit</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_unit_struct</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_name</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-nb">static</span> <span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_newtype_struct</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_name</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-nb">static</span> <span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_tuple</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_len</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_tuple_struct</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_name</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-nb">static</span> <span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_len</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_enum</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_name</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-nb">static</span> <span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_variants</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-nb">static</span> <span class="tok-p">[</span><span class="tok-o">&amp;&#39;</span><span class="tok-nb">static</span><span class="tok-w"> </span><span class="tok-kt">str</span><span class="tok-p">],</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_ignored_any</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-bp">Self</span>::<span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">struct</span> <span class="tok-nc">Struct</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">a</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">de</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-na">a</span> <span class="tok-nc">mut</span><span class="tok-w"> </span><span class="tok-n">Decoder</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-o">&#39;</span><span class="tok-na">a</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-n">SeqAccess</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">Struct</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">a</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">type</span> <span class="tok-nc">Error</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">next_element_seed</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">seed</span>: <span class="tok-nc">T</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-nb">Option</span><span class="tok-o">&lt;</span><span class="tok-n">T</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-o">&gt;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">where</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">T</span>: <span class="tok-nc">DeserializeSeed</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">de</span><span class="tok-p">.</span><span class="tok-n">nums</span><span class="tok-p">.</span><span class="tok-n">is_empty</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-k">return</span><span class="tok-w"> </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-nb">None</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">seed</span><span class="tok-p">.</span><span class="tok-n">deserialize</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">de</span><span class="tok-p">).</span><span class="tok-n">map</span><span class="tok-p">(</span><span class="tok-nb">Some</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="blazingly_concurrent_programmer">Blazingly Concurrent Programmer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="wanted_a_proof_that_rust_indeed_prevents_data_races">(wanted a proof that Rust indeed prevents data races)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">rayon</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">rayon</span>::<span class="tok-n">iter</span>::<span class="tok-n">ParallelIterator</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">rayon</span>::<span class="tok-kt">str</span>::<span class="tok-n">ParallelString</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">BufRead</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">stdin</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">stdin</span><span class="tok-p">.</span><span class="tok-n">lock</span><span class="tok-p">().</span><span class="tok-n">lines</span><span class="tok-p">().</span><span class="tok-n">next</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">sum</span>: <span class="tok-kt">i64</span> <span class="tok-o">=</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">par_split_whitespace</span><span class="tok-p">()</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">.</span><span class="tok-n">map</span><span class="tok-p">(</span><span class="tok-o">|</span><span class="tok-n">word</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">())</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">.</span><span class="tok-n">sum</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="outdated_async_rust_programmer">Outdated Async Rust Programmer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="learned_rust_async_library_in_2009">(learned Rust async library in 2009)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">mio</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">io</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">mio</span>::<span class="tok-p">{</span><span class="tok-n">Events</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Poll</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Ready</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">PollOpt</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Token</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">mio</span>::<span class="tok-n">unix</span>::<span class="tok-n">EventedFd</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">const</span><span class="tok-w"> </span><span class="tok-n">STDIN_FD</span>: <span class="tok-kt">i32</span> <span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">const</span><span class="tok-w"> </span><span class="tok-n">STDIN_TOKEN</span>: <span class="tok-nc">Token</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Token</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">);</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">io</span>::<span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-p">()</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-mi">0</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">poll</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Poll</span>::<span class="tok-n">new</span><span class="tok-p">()</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">poll</span><span class="tok-p">.</span><span class="tok-n">register</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-n">EventedFd</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-n">STDIN_FD</span><span class="tok-p">),</span><span class="tok-w"> </span><span class="tok-n">STDIN_TOKEN</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Ready</span>::<span class="tok-n">readable</span><span class="tok-p">(),</span><span class="tok-w"> </span><span class="tok-n">PollOpt</span>::<span class="tok-n">edge</span><span class="tok-p">())</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">events</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Events</span>::<span class="tok-n">with_capacity</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-o">&#39;</span><span class="tok-na">event_loop</span>:
    <span class="tok-nc">loop</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">poll</span><span class="tok-p">.</span><span class="tok-n">poll</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">events</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">None</span><span class="tok-p">)</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">event</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-o">&amp;</span><span class="tok-n">events</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-k">match</span><span class="tok-w"> </span><span class="tok-n">event</span><span class="tok-p">.</span><span class="tok-n">token</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-n">STDIN_TOKEN</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-nb">String</span>::<span class="tok-n">new</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-n">std</span>::<span class="tok-n">io</span>::<span class="tok-n">stdin</span><span class="tok-p">().</span><span class="tok-n">read_line</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">).</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-p">.</span><span class="tok-n">split_whitespace</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">                        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">                        </span><span class="tok-n">sum</span><span class="tok-w"> </span><span class="tok-o">+=</span><span class="tok-w"> </span><span class="tok-n">num</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">                    </span><span class="tok-k">break</span><span class="tok-w"> </span><span class="tok-nl">&#39;event_loop</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-p">},</span><span class="tok-w"></span>
<span class="tok-w">                </span><span class="tok-n">_</span><span class="tok-w"> </span><span class="tok-o">=&gt;</span><span class="tok-w"> </span><span class="tok-fm">unreachable!</span><span class="tok-p">(),</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-fm">println!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-nb">Ok</span><span class="tok-p">(())</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="senior_dependenciely_typed_rust_programmer">Senior Dependenciely-Typed Rust Programmer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="learned_to_use_all_the_best_crates_of_the_rust_ecosystem">(learned to use all the best crates of the Rust ecosystem)</h3>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="rust"><span></span><span class="tok-c1">// High score (total number of dependencies): 99</span>

<span class="tok-cp">#![feature(generators, proc_macro_hygiene, try_trait)]</span><span class="tok-w"></span>

<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">error_chain</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">futures_await</span><span class="tok-w"> </span><span class="tok-k">as</span><span class="tok-w"> </span><span class="tok-n">futures</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">lazy_static</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">rayon</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">serde</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">serde_derive</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">tokio</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">tokio_codec</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">tokio_fs</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">tokio_io</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">extern</span><span class="tok-w"> </span><span class="tok-k">crate</span><span class="tok-w"> </span><span class="tok-n">tokio_threadpool</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">collections</span>::<span class="tok-n">VecDeque</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">fmt</span>::<span class="tok-n">Display</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">io</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">num</span>::<span class="tok-n">ParseIntError</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">option</span>::<span class="tok-n">NoneError</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">std</span>::<span class="tok-n">sync</span>::<span class="tok-n">Mutex</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">futures</span>::<span class="tok-n">prelude</span>::<span class="tok-p">{</span><span class="tok-k">async</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-k">await</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">lazy_static</span>::<span class="tok-n">lazy_static</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">rayon</span>::<span class="tok-n">iter</span>::<span class="tok-n">ParallelIterator</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">rayon</span>::<span class="tok-kt">str</span>::<span class="tok-n">ParallelString</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">serde</span>::<span class="tok-p">{</span><span class="tok-n">Deserialize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Deserializer</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">serde</span>::<span class="tok-n">de</span>::<span class="tok-p">{</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">DeserializeSeed</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">SeqAccess</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">Visitor</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">tokio</span>::<span class="tok-n">prelude</span>::<span class="tok-n">Future</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">tokio_codec</span>::<span class="tok-p">{</span><span class="tok-n">FramedRead</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">LinesCodec</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">tokio_fs</span>::<span class="tok-p">{</span><span class="tok-n">stdin</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">stdout</span><span class="tok-p">};</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">tokio_io</span>::<span class="tok-n">io</span>::<span class="tok-n">write_all</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">tokio_threadpool</span>::<span class="tok-n">Builder</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-k">use</span><span class="tok-w"> </span><span class="tok-n">error_chain</span>::<span class="tok-o">*</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-n">lazy_static</span><span class="tok-o">!</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">static</span><span class="tok-w"> </span><span class="tok-k">ref</span><span class="tok-w"> </span><span class="tok-n">NUMS</span>: <span class="tok-nc">Mutex</span><span class="tok-o">&lt;</span><span class="tok-n">VecDeque</span><span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;&gt;</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Mutex</span>::<span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">VecDeque</span>::<span class="tok-n">new</span><span class="tok-p">());</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-n">error_chain</span><span class="tok-o">!</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">types</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">Error</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ErrorKind</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">ResultExt</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-nb">Result</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-n">foreign_links</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">Io</span><span class="tok-p">(</span><span class="tok-n">io</span>::<span class="tok-n">Error</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">Parse</span><span class="tok-p">(</span><span class="tok-n">ParseIntError</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-n">errors</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">Async</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">description</span><span class="tok-p">(</span><span class="tok-s">&quot;async error&quot;</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">display</span><span class="tok-p">(</span><span class="tok-s">&quot;useful async error&quot;</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">EmptyVec</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">description</span><span class="tok-p">(</span><span class="tok-s">&quot;empty vec&quot;</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-n">display</span><span class="tok-p">(</span><span class="tok-s">&quot;empty vec&quot;</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-nb">From</span><span class="tok-o">&lt;</span><span class="tok-p">()</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">from</span><span class="tok-p">(()</span>: <span class="tok-p">())</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">Self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">ErrorKind</span>::<span class="tok-n">Async</span><span class="tok-p">.</span><span class="tok-n">into</span><span class="tok-p">()</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-nb">From</span><span class="tok-o">&lt;</span><span class="tok-n">NoneError</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">from</span><span class="tok-p">(</span><span class="tok-n">_</span>: <span class="tok-nc">NoneError</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">Self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">ErrorKind</span>::<span class="tok-n">EmptyVec</span><span class="tok-p">.</span><span class="tok-n">into</span><span class="tok-p">()</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-n">de</span>::<span class="tok-n">Error</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">custom</span><span class="tok-o">&lt;</span><span class="tok-n">T</span>: <span class="tok-nc">Display</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-n">msg</span>: <span class="tok-nc">T</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nc">Self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">msg</span><span class="tok-p">.</span><span class="tok-n">to_string</span><span class="tok-p">().</span><span class="tok-n">into</span><span class="tok-p">()</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-cp">#[async]</span><span class="tok-w"></span>
<span class="tok-k">fn</span> <span class="tok-nf">future</span><span class="tok-p">()</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-p">()</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">stdin</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">FramedRead</span>::<span class="tok-n">new</span><span class="tok-p">(</span><span class="tok-n">stdin</span><span class="tok-p">(),</span><span class="tok-w"> </span><span class="tok-n">LinesCodec</span>::<span class="tok-n">new</span><span class="tok-p">());</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-cp">#[async]</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">line</span><span class="tok-w"> </span><span class="tok-k">in</span><span class="tok-w"> </span><span class="tok-n">stdin</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">nums</span>: <span class="tok-nb">Vec</span><span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">from_str</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-n">line</span><span class="tok-p">)</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">sum</span>: <span class="tok-kt">i64</span> <span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">nums</span><span class="tok-p">.</span><span class="tok-n">iter</span><span class="tok-p">().</span><span class="tok-n">sum</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">await</span><span class="tok-o">!</span><span class="tok-p">(</span><span class="tok-n">write_all</span><span class="tok-p">(</span><span class="tok-n">stdout</span><span class="tok-p">(),</span><span class="tok-w"> </span><span class="tok-fm">format!</span><span class="tok-p">(</span><span class="tok-s">&quot;Sum: {}</span><span class="tok-se">\n</span><span class="tok-s">&quot;</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">sum</span><span class="tok-p">).</span><span class="tok-n">into_bytes</span><span class="tok-p">()))</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-nb">Ok</span><span class="tok-p">(())</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">fn</span> <span class="tok-nf">main</span><span class="tok-p">()</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-p">()</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">pool</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Builder</span>::<span class="tok-n">new</span><span class="tok-p">().</span><span class="tok-n">pool_size</span><span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">).</span><span class="tok-n">build</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">pool</span><span class="tok-p">.</span><span class="tok-n">spawn</span><span class="tok-p">(</span><span class="tok-n">future</span><span class="tok-p">().</span><span class="tok-n">map_err</span><span class="tok-p">(</span><span class="tok-o">|</span><span class="tok-n">_</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-p">()));</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">pool</span><span class="tok-p">.</span><span class="tok-n">shutdown_on_idle</span><span class="tok-p">().</span><span class="tok-n">wait</span><span class="tok-p">()</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-nb">Ok</span><span class="tok-p">(())</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">pub</span><span class="tok-w"> </span><span class="tok-k">fn</span> <span class="tok-nf">from_str</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-n">s</span>: <span class="tok-kp">&amp;</span><span class="tok-kt">str</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span><span class="tok-w"></span>
<span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">a</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-n">T</span>: <span class="tok-nc">Deserialize</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">a</span><span class="tok-o">&gt;</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">deserializer</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Decoder</span>::<span class="tok-n">from_str</span><span class="tok-p">(</span><span class="tok-n">s</span><span class="tok-p">.</span><span class="tok-n">to_string</span><span class="tok-p">())</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">t</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">T</span>::<span class="tok-n">deserialize</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">deserializer</span><span class="tok-p">)</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-n">NUMS</span><span class="tok-p">.</span><span class="tok-n">lock</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">().</span><span class="tok-n">is_empty</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-n">t</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">else</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-nb">Err</span><span class="tok-p">(</span><span class="tok-n">serde</span>::<span class="tok-n">de</span>::<span class="tok-n">Error</span>::<span class="tok-n">custom</span><span class="tok-p">(</span><span class="tok-s">&quot;empty input&quot;</span><span class="tok-p">))</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">struct</span> <span class="tok-nc">Decoder</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-w"> </span><span class="tok-n">Decoder</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">from_str</span><span class="tok-p">(</span><span class="tok-n">input</span>: <span class="tok-nb">String</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-bp">Self</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-kd">let</span><span class="tok-w"> </span><span class="tok-n">nums</span>: <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">VecDeque</span><span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;&gt;</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">input</span><span class="tok-p">.</span><span class="tok-n">par_split_whitespace</span><span class="tok-p">().</span><span class="tok-n">map</span><span class="tok-p">(</span><span class="tok-o">|</span><span class="tok-n">word</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">word</span><span class="tok-p">.</span><span class="tok-n">parse</span>::<span class="tok-o">&lt;</span><span class="tok-kt">i64</span><span class="tok-o">&gt;</span><span class="tok-p">().</span><span class="tok-n">map_err</span><span class="tok-p">(</span><span class="tok-o">|</span><span class="tok-n">err</span><span class="tok-o">|</span><span class="tok-w"> </span><span class="tok-n">err</span><span class="tok-p">.</span><span class="tok-n">into</span><span class="tok-p">()))</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-p">.</span><span class="tok-n">collect</span><span class="tok-p">();</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-o">*</span><span class="tok-n">NUMS</span><span class="tok-p">.</span><span class="tok-n">lock</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">nums</span><span class="tok-o">?</span><span class="tok-p">;</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-bp">Self</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">})</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-o">&#39;</span><span class="tok-na">a</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-n">Deserializer</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-o">&amp;&#39;</span><span class="tok-na">a</span><span class="tok-w"> </span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-n">Decoder</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">type</span> <span class="tok-nc">Error</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_i64</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">where</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">visitor</span><span class="tok-p">.</span><span class="tok-n">visit_i64</span><span class="tok-p">(</span><span class="tok-n">NUMS</span><span class="tok-p">.</span><span class="tok-n">lock</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">().</span><span class="tok-n">pop_front</span><span class="tok-p">()</span><span class="tok-o">?</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_seq</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">where</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">visitor</span><span class="tok-p">.</span><span class="tok-n">visit_seq</span><span class="tok-p">(</span><span class="tok-n">Struct</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-n">de</span>: <span class="tok-nc">self</span><span class="tok-w"> </span><span class="tok-p">})</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_struct</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_name</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-nb">static</span> <span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_fields</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-nb">static</span> <span class="tok-p">[</span><span class="tok-o">&amp;&#39;</span><span class="tok-nb">static</span><span class="tok-w"> </span><span class="tok-kt">str</span><span class="tok-p">],</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_map</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">();</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_identifier</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">();</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_any</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_bool</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_i8</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_i16</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_i32</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_u8</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_u16</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_u32</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_u64</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_f32</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_f64</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_char</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_str</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_string</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_bytes</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_byte_buf</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_option</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_unit</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_unit_struct</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_name</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-nb">static</span> <span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_newtype_struct</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_name</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-nb">static</span> <span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_tuple</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_len</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_tuple_struct</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_name</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-nb">static</span> <span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_len</span>: <span class="tok-kt">usize</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_enum</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_name</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-nb">static</span> <span class="tok-kt">str</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_variants</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-nb">static</span> <span class="tok-p">[</span><span class="tok-o">&amp;&#39;</span><span class="tok-nb">static</span><span class="tok-w"> </span><span class="tok-kt">str</span><span class="tok-p">],</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">deserialize_ignored_any</span><span class="tok-o">&lt;</span><span class="tok-n">V</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">_visitor</span>: <span class="tok-nc">V</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-n">V</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">where</span><span class="tok-w"> </span><span class="tok-n">V</span>: <span class="tok-nc">Visitor</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"> </span><span class="tok-fm">unimplemented!</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">struct</span> <span class="tok-nc">Struct</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">a</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-n">de</span>: <span class="tok-kp">&amp;</span><span class="tok-o">&#39;</span><span class="tok-na">a</span> <span class="tok-nc">mut</span><span class="tok-w"> </span><span class="tok-n">Decoder</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span>

<span class="tok-k">impl</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-o">&#39;</span><span class="tok-na">a</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-n">SeqAccess</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-k">for</span><span class="tok-w"> </span><span class="tok-n">Struct</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">a</span><span class="tok-o">&gt;</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">type</span> <span class="tok-nc">Error</span><span class="tok-w"> </span><span class="tok-o">=</span><span class="tok-w"> </span><span class="tok-n">Error</span><span class="tok-p">;</span><span class="tok-w"></span>

<span class="tok-w">    </span><span class="tok-k">fn</span> <span class="tok-nf">next_element_seed</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-bp">self</span><span class="tok-p">,</span><span class="tok-w"> </span><span class="tok-n">seed</span>: <span class="tok-nc">T</span><span class="tok-p">)</span><span class="tok-w"> </span>-&gt; <span class="tok-nb">Result</span><span class="tok-o">&lt;</span><span class="tok-nb">Option</span><span class="tok-o">&lt;&lt;</span><span class="tok-n">T</span><span class="tok-w"> </span><span class="tok-k">as</span><span class="tok-w"> </span><span class="tok-n">serde</span>::<span class="tok-n">de</span>::<span class="tok-n">DeserializeSeed</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;&gt;</span>::<span class="tok-n">Value</span><span class="tok-o">&gt;&gt;</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-k">where</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">T</span>: <span class="tok-nc">DeserializeSeed</span><span class="tok-o">&lt;&#39;</span><span class="tok-na">de</span><span class="tok-o">&gt;</span><span class="tok-p">,</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-k">if</span><span class="tok-w"> </span><span class="tok-n">NUMS</span><span class="tok-p">.</span><span class="tok-n">lock</span><span class="tok-p">().</span><span class="tok-n">unwrap</span><span class="tok-p">().</span><span class="tok-n">is_empty</span><span class="tok-p">()</span><span class="tok-w"> </span><span class="tok-p">{</span><span class="tok-w"></span>
<span class="tok-w">            </span><span class="tok-k">return</span><span class="tok-w"> </span><span class="tok-nb">Ok</span><span class="tok-p">(</span><span class="tok-nb">None</span><span class="tok-p">);</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-w">        </span><span class="tok-n">seed</span><span class="tok-p">.</span><span class="tok-n">deserialize</span><span class="tok-p">(</span><span class="tok-o">&amp;</span><span class="tok-k">mut</span><span class="tok-w"> </span><span class="tok-o">*</span><span class="tok-bp">self</span><span class="tok-p">.</span><span class="tok-n">de</span><span class="tok-p">).</span><span class="tok-n">map</span><span class="tok-p">(</span><span class="tok-nb">Some</span><span class="tok-p">)</span><span class="tok-w"></span>
<span class="tok-w">    </span><span class="tok-p">}</span><span class="tok-w"></span>
<span class="tok-p">}</span><span class="tok-w"></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Copyright  2019 Antoni Boucher
All rights reserved</p>
</div>
</div>
</div>
</div>

    </div>
</article>



      </main>

          <!-- Pagination links -->
      

      </div>

        <!-- Footer -->
        <footer>
  <div class="footer">
    <a href="https://www.patreon.com/antoyo"><img class="patreon" src="https://c5.patreon.com/external/logo/become_a_patron_button.png"/></a>
    <a class="btn sponsor" aria-label="Sponsor @antoyo" href="https://github.com/sponsors/antoyo">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
        <path d="m8 14.25.345.666a.75.75 0 0 1-.69 0l-.008-.004-.018-.01a7.152 7.152 0 0 1-.31-.17 22.055 22.055 0 0 1-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.066 22.066 0 0 1-3.744 2.584l-.018.01-.006.003h-.002ZM4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.58 20.58 0 0 0 8 13.393a20.58 20.58 0 0 0 3.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.749.749 0 0 1-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5Z"></path>
      </svg>
      <span>Sponsor me</span>
    </a>
  </div>
  <span> 2017-2026 - Antoni Boucher</span>
</footer>


        <!-- Script -->
      <script src="/js/main.js"></script>


    </div>
</body>
</html>
